<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bajvívó Lovagok Egyesülete</title>

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=IM+Fell+English+SC&family=Cinzel+Decorative&family=Crimson+Pro&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      font-family: 'Georgia', serif;
      background: url('old-paper-with-torn-and-ripped-edges-900x1134.jpg') center center / cover no-repeat fixed;
      color: #2e1d12;
    }
    header { position: relative; height: 480px; overflow: hidden; }
    header video { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; z-index: 1; }
    header .overlay {
      position: absolute; z-index: 2; background: rgba(0, 0, 0, 0.5); color: #fff;
      text-align: center; padding: 30px; border-radius: 10px;
      top: 50%; left: 50%; transform: translate(-50%, -50%);
    }
    header h1 { font-family: 'MedievalSharp', cursive; font-size: 2.7em; margin: 0; }
    header p { font-size: 1.3em; margin-top: 10px; }

    nav { background: url('anjou-liliom-minta.jpg') center center / cover no-repeat; text-align: center; padding: 15px; }
    nav a {
      color: #fff; margin: 0 20px; text-decoration: none; font-weight: bold;
      padding: 10px 15px; display: inline-block;
      background-color: rgba(58, 38, 22, 0.7); border-radius: 8px;
    }

    .separator { height: 8px; background-image: linear-gradient(to right, #3a2616, #7b5b3e, #3a2616); }

    .keretes-szekcio {
      background-color: rgba(255, 248, 220, 0.88);
      padding: 40px; margin: 40px auto; max-width: 900px;
      border-radius: 12px; border: 2px solid #7b5b3e;
    }

    #map {
      height: 500px;
      width: 100%;
      filter: sepia(0.6) contrast(1.1) brightness(0.95);
      border-radius: 12px;
    }

    footer { text-align: center; padding: 20px; background-color: #3a2616; color: white; }
  </style>
</head>
<body>

  <header>
    <img src="borito.jpg" alt="Fejléc kép" style="position:absolute; inset:0; width:100%; height:100%; object-fit:cover;" />
    <div class="overlay">
      <h1>Bajvívó Lovagok Egyesülete</h1>
      <p>Élő történelem – Lovagi tornák, bemutatók</p>
    </div>
  </header>

  <div class="separator"></div>

  <section class="keretes-szekcio">
    <h2>Bemutatkozás</h2>
    <p>...</p>
  </section>

    <!-- TÉRKÉP SZEKCIÓ AZ OLDAL ALJÁN -->
  <section class="keretes-szekcio">
    <h2>Országos jelenlét időben</h2>

    <div style="margin-bottom:20px;">
      <strong>Év:</strong> <span id="yearValue">2026</span>
      <input type="range" id="yearSlider" min="1992" max="2026" step="1" value="2026" style="width:100%;">
      <small>A csúszka évéig megvalósult események láthatók.</small>
    </div>

    <div id="map"></div>
  </section>

  <footer>
    <p>&copy; 2025 Bajvívó Lovagok Egyesülete</p>
  </footer>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    const map = L.map('map', { zoomControl: true }).setView([47.1625, 19.5033], 7);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '© OpenStreetMap közreműködők'
    }).addTo(map);

    const fleurDeLisIcon = L.divIcon({
      html: '<div style="font-size:24px; line-height:24px;">⚜️</div>',
      className: '',
      iconSize: [24, 24],
      iconAnchor: [12, 24]
    });

    const events = [
      { name: 'Diósd', lat: 47.3847, lng: 18.9448, description: 'Diósdi programok 1997 óta', year: 1997 },
      { name: 'Gutorfölde', lat: 46.6425, lng: 16.7366, description: 'Gutorföldi nyár 1997 óta', year: 1997 },
      { name: 'Visegrád', lat: 47.7868, lng: 18.9738, description: 'Visegrádi Palotajátékok 1997 óta', year: 1997 },
      { name: 'Lanciano', lat: 42.2263, lng: 14.3958, description: 'Mastrogiurato di Lanciano', year: 2001 },
      { name: 'Alsbach-Hähnlein', lat: 49.7401, lng: 8.6253, description: 'Diósdi delegáció tagjaként', year: 2012 },
      { name: 'Alsónémedi', lat: 47.3181, lng: 19.1667, description: 'Alsónémedi Majális', year: 2024 },
      { name: 'Alsószentiván', lat: 47.1500, lng: 19.0655, description: 'Szent Iván-éj', year: 2016 },
      { name: 'Balatonberény', lat: 46.7075, lng: 17.3208, description: 'Balatoberényi szezonnyitó', year: 2015 },
      { name: 'Balatonszepezd', lat: 46.8507, lng: 17.6584, description: 'Balatonszepezdi évadnyitó', year: 2024 },
      { name: 'Békásmegyer', lat: 47.5642, lng: 19.0242, description: 'Városnap', year: 2009 },
      { name: 'Boldva', lat: 48.2175, lng: 20.7890, description: 'Aludttej fesztivál', year: 2025 },
      { name: 'Cieszanów', lat: 50.2456, lng: 23.1316, description: 'Diósdi delegáció tagjaként', year: 2019 },
      { name: 'Csesznek', lat: 47.3292, lng: 17.6905, description: 'Cseszneki várjátékok', year: 2011 },
      { name: 'Decs', lat: 46.3442, lng: 18.7131, description: 'Falunap', year: 2024 },
      { name: 'Dióskál', lat: 46.6667, lng: 17.0500, description: 'Falunap', year: 2019 },
      { name: 'Érd', lat: 47.3989, lng: 18.9073, description: 'Városnap', year: 2003 },
      { name: 'Győr', lat: 47.6870, lng: 17.6500, description: 'Szent László-napok', year: 2014 },
      { name: 'Gyula', lat: 46.6430, lng: 21.2775, description: 'Gyulai várjátékok', year: 1997 },
      { name: 'Halásztelek', lat: 47.3530, lng: 19.1225, description: 'Szent László-napok', year: 2022 },
      { name: 'Hatvan', lat: 47.6664, lng: 19.6831, description: 'Városnap', year: 2013 },
      { name: 'Imrehegy', lat: 47.1522, lng: 19.3344, description: 'Falunap', year: 2012 },
      { name: 'Jászberény', lat: 47.5000, lng: 19.9197, description: 'Városnap', year: 2008 },
      { name: 'Kétpó', lat: 47.0739, lng: 20.4811, description: 'Betyárétel Főző Fesztivál', year: 2016 },
      { name: 'Kóny', lat: 47.6289, lng: 17.3628, description: 'VI. Kónyi Bikafesztivál és Majális', year: 2015 },
      { name: 'Lakitelek', lat: 46.9952, lng: 19.0415, description: 'Falunap', year: 2024 },
      { name: 'Nagymegyer', lat: 47.8565, lng: 17.7694, description: 'Falunap', year: 2024 },
      { name: 'Mezőszentgyörgy', lat: 46.5744, lng: 18.1883, description: 'Pünkösdi királyválasztás', year: 2022 },
      { name: 'Monor', lat: 47.3513, lng: 19.4473, description: 'Új-kenyér fesztivál', year: 2014 },
      { name: 'Paks', lat: 46.6303, lng: 18.8703, description: 'Városnapok', year: 2008 },
      { name: 'Pannonhalma', lat: 47.6330, lng: 18.9330, description: 'Pannonhalmi bornap', year: 2018 },
      { name: 'Pilisborosjenő', lat: 47.5575, lng: 18.8000, description: 'Futanet túranap', year: 2009 },
      { name: 'Ráckeve', lat: 47.1497, lng: 19.1747, description: 'János Vitéz napok', year: 2023 },
      { name: 'Révkomárom', lat: 47.7606, lng: 18.2500, description: 'Városnap', year: 2000 },
      { name: 'Sükösd', lat: 46.9964, lng: 19.1572, description: 'Falunap', year: 2023 },
      { name: 'Sóskút', lat: 46.9964, lng: 19.1572, description: 'Sóskúti gyereknap', year: 2019 },
      { name: 'Szabacs', lat: 47.1992, lng: 18.2083, description: 'Falunap', year: 2018 },
      { name: 'Szigethalom', lat: 47.3503, lng: 19.0550, description: 'Falunap', year: 1992 },
      { name: 'Szigliget', lat: 46.8018, lng: 17.4332, description: 'Szigligeti várjátékok', year: 2008 },
      { name: 'Tar', lat: 47.0997, lng: 18.1825, description: 'Falunap', year: 2023 },
      { name: 'Telki', lat: 47.5575, lng: 18.8000, description: 'Falunap', year: 2002 },
      { name: 'Tiboldaróc', lat: 48.1910, lng: 20.8635, description: 'Falunap', year: 2008 },
      { name: 'Tura', lat: 47.6077, lng: 19.6004, description: 'Települési rendezvény', year: 2023 },
      { name: 'Üröm', lat: 47.6499, lng: 18.9329, description: 'Lőcsfesztivál', year: 2008 },
      { name: 'Vác', lat: 47.7806, lng: 19.1331, description: 'Városnap', year: 2008 },
      { name: 'Vereb', lat: 47.3187, lng: 18.6180, description: 'Vereb Vitéz napja', year: 2015 },
      { name: 'Veszprém', lat: 47.0936, lng: 17.9092, description: 'Gizella-napok', year: 2010 },
      { name: 'Veszprémgalsa', lat: 47.1000, lng: 17.7333, description: 'Falunap', year: 2022 }
    ];

    const markers = [];
    events.forEach(ev => {
      const marker = L.marker([ev.lat, ev.lng], { icon: fleurDeLisIcon })
        .bindPopup(`<strong>${ev.name}</strong><br>${ev.description}<br><em>${ev.year}</em>`);
      markers.push({ marker, year: ev.year });
    });

    function updateMarkers(year) {
      markers.forEach(m => {
        if (m.year <= year) {
          if (!map.hasLayer(m.marker)) m.marker.addTo(map);
        } else {
          if (map.hasLayer(m.marker)) map.removeLayer(m.marker);
        }
      });
    }

    const slider = document.getElementById('yearSlider');
    const yearValue = document.getElementById('yearValue');

    slider.addEventListener('input', () => {
      const year = parseInt(slider.value);
      yearValue.textContent = year;
      updateMarkers(year);
    });

    updateMarkers(parseInt(slider.value));
  </script>
  <script>
    const map = L.map('map').setView([47.1625, 19.5033], 7);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '© OpenStreetMap közreműködők'
    }).addTo(map);

    const fleurDeLisIcon = L.divIcon({
      html: '<div style="font-size:24px;">⚜️</div>',
      className: '',
      iconSize: [24, 24],
      iconAnchor: [12, 24]
    });

    const events = [
      { name: 'Diósd', lat: 47.3847, lng: 18.9448, year: 1997 },
      { name: 'Visegrád', lat: 47.7868, lng: 18.9738, year: 1997 },
      { name: 'Gyula', lat: 46.6430, lng: 21.2775, year: 1997 }
    ];

    events.forEach(ev => {
      L.marker([ev.lat, ev.lng], { icon: fleurDeLisIcon })
        .addTo(map)
        .bindPopup(`<strong>${ev.name}</strong><br>${ev.year}`);
    });
  </script>
</body>
</html>
